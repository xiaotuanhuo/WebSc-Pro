<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">

<head>
    <meta charset="UTF-8">
    <title>医生报表</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
    <link rel="shortcut icon" type="image/x-icon" th:href="@{/favicon.ico}"/>
    <link rel="stylesheet" th:href="@{/lib/layui/css/layui.css}">
    <link rel="stylesheet" th:href="@{/css/common.css}">
    <link rel="stylesheet" th:href="@{/css/animate.min.css}">
    <link rel="stylesheet" th:href="@{/iconfont/iconfont.css}">
    <link rel="stylesheet" th:href="@{/lib/layui/extend/dtree.css}" />
    <link rel="stylesheet" th:href="@{/lib/layui/extend/font/dtreefont.css}">
</head>

<body>
	<div class="page-loading">
		<div class="rubik-loader"></div>
	</div>
	<div class="z-body animated fadeIn">
		<form class="layui-form zadmin-search-area input">
			<div class="layui-form-item">
				<label for="roleName" class="layui-form-label">姓名</label>
				<div class="layui-input-inline">
					<input type="text" name="roleName" autocomplete="off"
						id="roleName" placeholder="请输入医生姓名" class="layui-input">
				</div>
				<button lay-submit="" lay-filter="search"
					class="layui-btn layui-btn-sm layui-btn-primary table-action">
					<i class="zadmin-icon zadmin-icon-search"></i>
				</button>
			</div>
		</form>
		<table class="layui-hide" id="role-table"></table>
	</div>
	
	<script th:src="@{/lib/jquery/jquery.min.js}"></script>
	<script th:src="@{/lib/layui/layui.js}"></script>
	<script th:src="@{/js/common.js}"></script>
	<script>
        layui.config({
			base: '/lib/layui/extend/'
		}).use(['table', 'element', 'form', 'tablePlug'], function () {
			var $ = layui.$;
			var table = layui.table;
			var form = layui.form;
			var tablePlug = layui.tablePlug;
			
			tablePlug.smartReload.enable(true);
            
			table.render({
				elem: '#doctor-table',
				url: '/stats/doctor/list',
				page: true,
				smartReloadModel: true,
				cols: [
					[
						{type:'numbers', title:'序号', fixed:'left', width:'5%'},
						{field:'userId', title:'id', hide:true},
						{field:'loginName', title:'用户名', width:'15%'},
						{field:'userName', title:'姓名', sort:true, width:'25%'},
						{field:'sex', title:'性别', templet:'#sexTpl', width:'7%'},
						{field:'roleName', title:'角色', width:'15%'},
						{field:'status', title:'状态', templet:'#statusTpl', width:'8%'}
					]
				]
			});
			
			// 工具条点击事件
			table.on('toolbar', function (obj) {
				var event = obj.event;
				switch (event) {
					case 'add':
						add();
						break;
					default:
						break;
				}
            });
		});
	</script>
</body>

</html>